"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require('@angular/core');
var router_1 = require('@angular/router');
var auth_service_1 = require('../shared/services/auth.service');
var forms_1 = require('@angular/forms');
var myGlobals = require('../globals');
var CustomValidators_1 = require('../shared/utils/CustomValidators');
var BillingDetailComponent = (function () {
    function BillingDetailComponent(builder, _router, authService) {
        this.builder = builder;
        this._router = _router;
        this.authService = authService;
        this.loading = false;
        this.paymenttype = "monthly";
        this.invalidcard = false;
        this.squareerror = false;
        this.ismonthly = true;
        this.isloading = false;
        this.ismessage = false;
        this.month = ['01', '02', '03', '04', '05', '06',
            '07', '08', '09', '10', '11', '12'];
        this.createForm();
        this.loginUser = myGlobals.LoginUser;
    }
    BillingDetailComponent.prototype.createForm = function () {
        this.firstname = new forms_1.FormControl('', forms_1.Validators.required);
        this.lastname = new forms_1.FormControl('', forms_1.Validators.required);
        this.email = new forms_1.FormControl('', forms_1.Validators.compose([forms_1.Validators.required, CustomValidators_1.CustomValidators.emailValidator]));
        this.businessname = new forms_1.FormControl('', forms_1.Validators.required);
        this.bill_firstname = new forms_1.FormControl('', forms_1.Validators.required);
        this.bill_lastname = new forms_1.FormControl('', forms_1.Validators.required);
        this.cc_number = new forms_1.FormControl('', forms_1.Validators.compose([forms_1.Validators.required, CustomValidators_1.CustomValidators.cardValidator]));
        this.expirydate = new forms_1.FormControl('', forms_1.Validators.required);
        this.expiryyear = new forms_1.FormControl('', forms_1.Validators.required);
        this.ccv = new forms_1.FormControl('', forms_1.Validators.compose([forms_1.Validators.required, CustomValidators_1.CustomValidators.cvvValidator]));
        this.address = new forms_1.FormControl('', forms_1.Validators.required);
        this.app = new forms_1.FormControl('', forms_1.Validators.required);
        this.city = new forms_1.FormControl('', forms_1.Validators.required);
        this.state = new forms_1.FormControl('', forms_1.Validators.required);
        this.zipcode = new forms_1.FormControl('', forms_1.Validators.compose([forms_1.Validators.required, CustomValidators_1.CustomValidators.zipValidator]));
        this.country = new forms_1.FormControl('', forms_1.Validators.required);
        this.billform = this.builder.group({
            firstname: this.firstname,
            lastname: this.lastname,
            email: this.email,
            businessname: this.businessname,
            bill_firstname: this.bill_firstname,
            bill_lastname: this.bill_lastname,
            cc_number: this.cc_number,
            expirydate: this.expirydate,
            expiryyear: this.expiryyear,
            ccv: this.ccv,
            address: this.address,
            app: this.app,
            city: this.city,
            state: this.state,
            zipcode: this.zipcode,
            country: this.country
        });
    };
    BillingDetailComponent.prototype.ngOnInit = function () {
        if (this.loginUser) {
            this.billform.controls['firstname'].updateValue(this.loginUser.firstname);
            this.billform.controls['lastname'].updateValue(this.loginUser.lastname);
            this.billform.controls['email'].updateValue(this.loginUser.email);
            this.billform.controls['businessname'].updateValue(this.loginUser.firstname + " " + this.loginUser.lastname);
        }
        this.loginUser = myGlobals.LoginUser;
        this.calculatedays();
        $(".CBpaymenttype").change(function () {
            var checked = $(this).is(':checked');
            $(".CBpaymenttype").prop('checked', false);
            if (checked) {
                $(this).prop('checked', true);
            }
        });
    };
    BillingDetailComponent.prototype.ngAfterViewInit = function () {
    };
    BillingDetailComponent.prototype.calculatedays = function () {
        this.date = new Date();
        this.subenddate = new Date(this.loginUser.subscriptionenddate);
        if (this.subenddate < this.date) {
            this.day = 0;
        }
        else {
            var diff = (this.subenddate) - (this.date);
            this.day = Math.round(diff / 86400000);
        }
    };
    BillingDetailComponent.prototype.updatebill = function () {
        this.isloading = true;
        this.generatetoken();
        var self = this;
        setTimeout(function () {
            var formdata = self.billform.value;
            var token = ($("#stripeToken").val());
            console.log("after time out");
            console.log(token);
            var cc_id = (formdata.cc_number).toString();
            var lastthree = cc_id.substr(cc_id.length - 3);
            var cardnumber = "xxx-xxx-xxx-" + lastthree;
            formdata["userid"] = self.loginUser.id;
            formdata["cardtoken"] = token;
            formdata["cardnumber"] = cardnumber;
            formdata["paymenttype"] = self.paymenttype;
            formdata["paymentgatway"] = "stripe";
            console.log(formdata);
            self.authService.billing(formdata)
                .subscribe(function (result) {
                self.isloading = false;
                self.message = result.data;
                self.ismessage = true;
                if (result.userdetail) {
                    window.localStorage['user'] = JSON.stringify(result.userdetail);
                    self.loginUser = result.userdetail;
                    myGlobals.LoginUser = self.loginUser;
                }
                self.calculatedays();
                $("#errors").empty();
                setTimeout(function () {
                    self._router.navigate(['/']);
                }, 4000);
            }, function (error) {
                self.isloading = false;
                self.message = error;
                self.ismessage = true;
                console.log(" billing fail: " + error);
            });
        }, 4000);
    };
    BillingDetailComponent.prototype.chngpaymenttype = function (value) {
        if (value == "monthly") {
            this.ismonthly = true;
        }
        else if (value == "yearly") {
            this.ismonthly = false;
        }
        this.paymenttype = value;
    };
    BillingDetailComponent.prototype.resetform = function () {
        this.createForm();
    };
    BillingDetailComponent.prototype.generatetoken = function () {
        var formdata = this.billform.value;
        var ccnumber = formdata.cc_number;
        var month = formdata.expirydate;
        var year = formdata.expiryyear;
        var ccv = formdata.ccv;
        Stripe.setPublishableKey('pk_test_iOkLeaO4mZGOHZ2x6d6MYJdq');
        if ((Stripe.card.validateExpiry(month, year)) && (Stripe.card.validateCardNumber(ccnumber)) && (Stripe.card.validateCVC(ccv))) {
            Stripe.card.createToken({
                number: ccnumber,
                cvc: ccv,
                exp_month: month,
                exp_year: year
            }, stripeResponseHandler);
            this.invalidcard = false;
        }
        else {
            this.invalidcard = true;
            console.log("card information invalid");
        }
    };
    BillingDetailComponent = __decorate([
        core_1.Component({
            moduleId: module.id,
            selector: 'billingdetail',
            templateUrl: 'billingdetail.component.html',
            directives: [forms_1.REACTIVE_FORM_DIRECTIVES, router_1.ROUTER_DIRECTIVES]
        }), 
        __metadata('design:paramtypes', [forms_1.FormBuilder, router_1.Router, auth_service_1.AuthService])
    ], BillingDetailComponent);
    return BillingDetailComponent;
}());
exports.BillingDetailComponent = BillingDetailComponent;
function stripeResponseHandler(status, response) {
    var $form = $('#billingform');
    var self = this;
    if (response.error) {
        $form.find('.bank-errors').text(response.error.message);
        $form.find('button').prop('disabled', false);
    }
    else {
        var token = response.id;
        console.log(token);
        $form.append("<input type='hidden' id='stripeToken' value='" + token + "' />");
    }
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9iaWxsaW5nZGV0YWlsL2JpbGxpbmdkZXRhaWwuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxxQkFBZ0MsZUFBZSxDQUFDLENBQUE7QUFDaEQsdUJBQXdDLGlCQUFpQixDQUFDLENBQUE7QUFDMUQsNkJBQTRCLGlDQUFpQyxDQUFDLENBQUE7QUFHOUQsc0JBQ0ssZ0JBQWdCLENBQUMsQ0FBQTtBQUN0QixJQUFPLFNBQVMsV0FBVyxZQUFZLENBQUMsQ0FBQztBQUN6QyxpQ0FBK0Isa0NBQWtDLENBQUMsQ0FBQTtBQVVsRTtJQXFDSSxnQ0FBb0IsT0FBb0IsRUFBVSxPQUFlLEVBQVUsV0FBd0I7UUFBL0UsWUFBTyxHQUFQLE9BQU8sQ0FBYTtRQUFVLFlBQU8sR0FBUCxPQUFPLENBQVE7UUFBVSxnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQWhDbkcsWUFBTyxHQUFZLEtBQUssQ0FBQztRQUNsQixnQkFBVyxHQUFXLFNBQVMsQ0FBQztRQUV2QyxnQkFBVyxHQUFZLEtBQUssQ0FBQztRQUM3QixnQkFBVyxHQUFZLEtBQUssQ0FBQztRQWtCN0IsY0FBUyxHQUFZLElBQUksQ0FBQztRQUUxQixjQUFTLEdBQVksS0FBSyxDQUFDO1FBQzNCLGNBQVMsR0FBUyxLQUFLLENBQUM7UUFHeEIsVUFBSyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJO1lBQ3ZDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFJcEMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQztJQUN6QyxDQUFDO0lBQ0QsMkNBQVUsR0FBVjtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxtQkFBVyxDQUFDLEVBQUUsRUFBRSxr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LENBQUMsZ0NBQXdCLEVBQUUsMEJBQWlCLENBQUM7U0FFN0QsQ0FBQzs7OEJBQUE7SUF1VEUsNkJBQUM7QUFBRCxDQXJUSixBQXFUSyxJQURBO0FBcFRRLDhCQUFzQix5QkFvVDlCLENBQUE7QUFDRCwrQkFBK0IsTUFBTSxFQUFFLFFBQVE7SUFHL0MsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzlCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztJQUNoQixFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUVqQixLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3hELEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUVqRCxDQUFDO0lBQUMsSUFBSSxDQUFDLENBQUM7UUFFSixJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsRUFBRSxDQUFDO1FBQ3hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkIsS0FBSyxDQUFDLE1BQU0sQ0FBQywrQ0FBK0MsR0FBRyxLQUFLLEdBQUcsTUFBTSxDQUFDLENBQUM7SUFFbkYsQ0FBQztBQUNMLENBQUMiLCJmaWxlIjoiYXBwL2JpbGxpbmdkZXRhaWwvYmlsbGluZ2RldGFpbC5jb21wb25lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBvbmVudCwgT25Jbml0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Uk9VVEVSX0RJUkVDVElWRVMsIFJvdXRlcn0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IEF1dGhTZXJ2aWNlIH0gZnJvbSAnLi4vc2hhcmVkL3NlcnZpY2VzL2F1dGguc2VydmljZSc7XG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vc2hhcmVkL2ludGVyZmFjZXMnO1xuLy9pbXBvcnQge0ZPUk1fRElSRUNUSVZFUywgRm9ybUJ1aWxkZXIsIENvbnRyb2wsIENvbnRyb2xHcm91cCwgVmFsaWRhdG9ycywgbmdmb3JtfSBmcm9tICdAYW5ndWxhci9jb21tb24nXG5pbXBvcnQgeyBGb3JtR3JvdXAsIEZvcm1Db250cm9sLCBWYWxpZGF0b3JzLCBGb3JtQnVpbGRlciwgUkVBQ1RJVkVfRk9STV9ESVJFQ1RJVkVTIH1cbmZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCBteUdsb2JhbHMgPSByZXF1aXJlKCcuLi9nbG9iYWxzJyk7XG5pbXBvcnQge0N1c3RvbVZhbGlkYXRvcnN9IGZyb20gJy4uL3NoYXJlZC91dGlscy9DdXN0b21WYWxpZGF0b3JzJztcblxuQENvbXBvbmVudCh7XG4gICAgbW9kdWxlSWQ6IG1vZHVsZS5pZCxcbiAgICBzZWxlY3RvcjogJ2JpbGxpbmdkZXRhaWwnLFxuICAgIHRlbXBsYXRlVXJsOiAnYmlsbGluZ2RldGFpbC5jb21wb25lbnQuaHRtbCdcbiAgICAgZGlyZWN0aXZlczogW1JFQUNUSVZFX0ZPUk1fRElSRUNUSVZFUywgUk9VVEVSX0RJUkVDVElWRVNdXG5cbn0pXG5cbmV4cG9ydCBjbGFzcyBCaWxsaW5nRGV0YWlsQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgICBkYXRlOiBEYXRlO1xuICAgIHN1YmVuZGRhdGU6IERhdGU7XG4gICAgZGF5OiBudW1iZXI7XG4gICAgbG9naW5Vc2VyOiBVc2VyO1xuICAgIGxvYWRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgcGF5bWVudHR5cGU6IHN0cmluZyA9IFwibW9udGhseVwiO1xuICAgIHB1YmxpYyBzdF90b2tlbjogc3RyaW5nO1xuICAgIGludmFsaWRjYXJkOiBib29sZWFuID0gZmFsc2U7XG4gICAgc3F1YXJlZXJyb3I6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBmaXJzdG5hbWU6IEZvcm1Db250cm9sO1xuICAgIGxhc3RuYW1lOiBGb3JtQ29udHJvbDtcbiAgICBlbWFpbDogRm9ybUNvbnRyb2w7XG4gICAgYnVzaW5lc3NuYW1lOiBGb3JtQ29udHJvbDtcbiAgICBiaWxsX2ZpcnN0bmFtZTogRm9ybUNvbnRyb2w7XG4gICAgYmlsbF9sYXN0bmFtZTogRm9ybUNvbnRyb2w7XG4gICAgIGNjX251bWJlcjogRm9ybUNvbnRyb2w7XG4gICAgIGV4cGlyeWRhdGU6IEZvcm1Db250cm9sO1xuICAgICBleHBpcnl5ZWFyOiBGb3JtQ29udHJvbDtcbiAgICBjY3Y6IEZvcm1Db250cm9sO1xuICAgIGFkZHJlc3M6IEZvcm1Db250cm9sO1xuICAgIGFwcDogRm9ybUNvbnRyb2w7XG4gICAgY2l0eTogRm9ybUNvbnRyb2w7XG4gICAgc3RhdGU6IEZvcm1Db250cm9sO1xuICAgICB6aXBjb2RlOiBGb3JtQ29udHJvbDtcbiAgICBjb3VudHJ5OiBGb3JtQ29udHJvbDtcbiAgICBiaWxsZm9ybTogRm9ybUdyb3VwO1xuICAgIGlzbW9udGhseTogYm9vbGVhbiA9IHRydWU7XG4gICAgc3FQYXltZW50Rm9ybTogYW55O1xuICAgIGlzbG9hZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzbWVzc2FnZTpib29sZWFuPWZhbHNlO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcblxuICAgIG1vbnRoID0gWycwMScsICcwMicsICcwMycsICcwNCcsICcwNScsICcwNicsXG4gICAgICAgICcwNycsICcwOCcsICcwOScsICcxMCcsICcxMScsICcxMiddO1xuICAgIHB1YmxpYyBwYXltZW50Zm9ybTogYW55O1xuICAgIHB1YmxpYyBzcXVhcmVjYXJkZGF0YTogYW55O1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYnVpbGRlcjogRm9ybUJ1aWxkZXIsIHByaXZhdGUgX3JvdXRlcjogUm91dGVyLCBwcml2YXRlIGF1dGhTZXJ2aWNlOiBBdXRoU2VydmljZSkge1xuICAgICAgICB0aGlzLmNyZWF0ZUZvcm0oKTtcbiAgICAgICAgdGhpcy5sb2dpblVzZXIgPSBteUdsb2JhbHMuTG9naW5Vc2VyO1xuICAgIH1cbiAgICBjcmVhdGVGb3JtKCkge1xuICAgICAgICB0aGlzLmZpcnN0bmFtZSA9IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCk7XG4gICAgICAgIHRoaXMubGFzdG5hbWUgPSBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpO1xuICAgICAgICB0aGlzLmVtYWlsID0gbmV3IEZvcm1Db250cm9sKCcnLCBWYWxpZGF0b3JzLmNvbXBvc2UoW1ZhbGlkYXRvcnMucmVxdWlyZWQsIEN1c3RvbVZhbGlkYXRvcnMuZW1haWxWYWxpZGF0b3JdKSk7XG4gICAgICAgIHRoaXMuYnVzaW5lc3NuYW1lID0gbmV3IEZvcm1Db250cm9sKCcnLCBWYWxpZGF0b3JzLnJlcXVpcmVkKTtcbiAgICAgICAgdGhpcy5iaWxsX2ZpcnN0bmFtZSA9IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCk7XG4gICAgICAgIHRoaXMuYmlsbF9sYXN0bmFtZSA9IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCk7XG4gICAgICAgICB0aGlzLmNjX251bWJlciA9IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5jb21wb3NlKFtWYWxpZGF0b3JzLnJlcXVpcmVkLCBDdXN0b21WYWxpZGF0b3JzLmNhcmRWYWxpZGF0b3JdKSk7XG4gICAgICAgICB0aGlzLmV4cGlyeWRhdGUgPSBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpO1xuICAgICAgICB0aGlzLmV4cGlyeXllYXIgPSBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpO1xuICAgICAgIC8vdGhpcy5jY3YgPSBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpO1xuICAgICAgICAgdGhpcy5jY3YgPSBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMuY29tcG9zZShbVmFsaWRhdG9ycy5yZXF1aXJlZCwgQ3VzdG9tVmFsaWRhdG9ycy5jdnZWYWxpZGF0b3JdKSk7XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCk7XG4gICAgICAgIHRoaXMuYXBwID0gbmV3IEZvcm1Db250cm9sKCcnLCBWYWxpZGF0b3JzLnJlcXVpcmVkKTtcbiAgICAgICAgdGhpcy5jaXR5ID0gbmV3IEZvcm1Db250cm9sKCcnLCBWYWxpZGF0b3JzLnJlcXVpcmVkKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG5ldyBGb3JtQ29udHJvbCgnJywgVmFsaWRhdG9ycy5yZXF1aXJlZCk7XG4gICAgICAgdGhpcy56aXBjb2RlID0gbmV3IEZvcm1Db250cm9sKCcnLCBWYWxpZGF0b3JzLmNvbXBvc2UoW1ZhbGlkYXRvcnMucmVxdWlyZWQsIEN1c3RvbVZhbGlkYXRvcnMuemlwVmFsaWRhdG9yXSkpO1xuICAgICAgICB0aGlzLmNvdW50cnkgPSBuZXcgRm9ybUNvbnRyb2woJycsIFZhbGlkYXRvcnMucmVxdWlyZWQpO1xuXG4gICAgICAgIHRoaXMuYmlsbGZvcm0gPSB0aGlzLmJ1aWxkZXIuZ3JvdXAoe1xuICAgICAgICAgICAgZmlyc3RuYW1lOiB0aGlzLmZpcnN0bmFtZSxcbiAgICAgICAgICAgIGxhc3RuYW1lOiB0aGlzLmxhc3RuYW1lLFxuICAgICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsXG4gICAgICAgICAgICBidXNpbmVzc25hbWU6IHRoaXMuYnVzaW5lc3NuYW1lLFxuICAgICAgICAgICAgYmlsbF9maXJzdG5hbWU6IHRoaXMuYmlsbF9maXJzdG5hbWUsXG4gICAgICAgICAgICBiaWxsX2xhc3RuYW1lOiB0aGlzLmJpbGxfbGFzdG5hbWUsXG4gICAgICAgICAgICBjY19udW1iZXI6IHRoaXMuY2NfbnVtYmVyLFxuICAgICAgICAgICAgZXhwaXJ5ZGF0ZTogdGhpcy5leHBpcnlkYXRlLFxuICAgICAgICAgICAgIGV4cGlyeXllYXI6IHRoaXMuZXhwaXJ5eWVhcixcbiAgICAgICAgICAgIGNjdjogdGhpcy5jY3YsXG4gICAgICAgICAgICBhZGRyZXNzOiB0aGlzLmFkZHJlc3MsXG4gICAgICAgICAgICBhcHA6IHRoaXMuYXBwLFxuICAgICAgICAgICAgY2l0eTogdGhpcy5jaXR5LFxuICAgICAgICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICB6aXBjb2RlOiB0aGlzLnppcGNvZGUsXG4gICAgICAgICAgICBjb3VudHJ5OiB0aGlzLmNvdW50cnlcbiAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcblxuICAgICAgICAvL3RoaXMuY2FsbHNxdWFyZWFwaSgpO1xuICAgICAgICBpZiAodGhpcy5sb2dpblVzZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYmlsbGZvcm0uY29udHJvbHNbJ2ZpcnN0bmFtZSddLnVwZGF0ZVZhbHVlKHRoaXMubG9naW5Vc2VyLmZpcnN0bmFtZSk7XG4gICAgICAgICAgICB0aGlzLmJpbGxmb3JtLmNvbnRyb2xzWydsYXN0bmFtZSddLnVwZGF0ZVZhbHVlKHRoaXMubG9naW5Vc2VyLmxhc3RuYW1lKTtcbiAgICAgICAgICAgIHRoaXMuYmlsbGZvcm0uY29udHJvbHNbJ2VtYWlsJ10udXBkYXRlVmFsdWUodGhpcy5sb2dpblVzZXIuZW1haWwpO1xuICAgICAgICAgICAgdGhpcy5iaWxsZm9ybS5jb250cm9sc1snYnVzaW5lc3NuYW1lJ10udXBkYXRlVmFsdWUodGhpcy5sb2dpblVzZXIuZmlyc3RuYW1lICsgXCIgXCIgKyB0aGlzLmxvZ2luVXNlci5sYXN0bmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvZ2luVXNlciA9IG15R2xvYmFscy5Mb2dpblVzZXI7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlZGF5cygpO1xuICAgICAgICAvLyAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgLy8gICAgICAgLy8gdGhpcy5zdWJzY3JpcHRpb25lbmRkYXRlID0gJzIwMTYtMDctMDNUMDk6MzQ6MTAuNDg3Wic7XG4gICAgICAgIC8vICAgICAgICAvL3RoaXMuc3ViZW5kZGF0ZSA9IG5ldyBEYXRlKCd0aGlzLmxvZ2luVXNlci5zdWJzY3JpcHRpb25lbmRkYXRlJyk7XG4gICAgICAgIC8vICAgICAgICB0aGlzLnN1YmVuZGRhdGUgPSBuZXcgRGF0ZSh0aGlzLmxvZ2luVXNlci5zdWJzY3JpcHRpb25lbmRkYXRlKTtcbiAgICAgICAgLy8gICAgICAgIC8vaWYgKHRoaXMubG9naW5Vc2VyLnN1YnNjcmlwdGlvbmVuYWJsZSA9PSBcIm5vXCIpIHtcbiAgICAgICAgLy8gICAgICAgIC8vbGV0IGRheXM9KG5ldyBEYXRlKDIwMTYsNywzKSktIChuZXcgRGF0ZSgyMDE2LDYsMTgpKTtcbiAgICAgICAgLy8gICAgICAgIGlmICh0aGlzLnN1YmVuZGRhdGUgPCB0aGlzLmRhdGUpIHtcbiAgICAgICAgLy8gICAgICAgICAgICB0aGlzLmRheSA9IDA7XG4gICAgICAgIC8vICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICAgICBsZXQgZGlmZiA9ICh0aGlzLnN1YmVuZGRhdGUpIC0gKHRoaXMuZGF0ZSk7XG4gICAgICAgIC8vICAgICAgICAgICAgdGhpcy5kYXkgPSBNYXRoLnJvdW5kKGRpZmYgLyA4NjQwMDAwMCk7XG4gICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICQoXCIuQ0JwYXltZW50dHlwZVwiKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZCA9ICQodGhpcykuaXMoJzpjaGVja2VkJyk7XG4gICAgICAgICAgICAkKFwiLkNCcGF5bWVudHR5cGVcIikucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgLy90aGlzLnBheW1lbnRmb3JtID0gbmV3IFNxYXJlUGF5bWVudEZvcm0oKTtcbiAgICAgICAgLy90aGlzLnNxUGF5bWVudEZvcm0uYnVpbGQoKTtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVkYXlzKCkge1xuICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAvLyB0aGlzLnN1YnNjcmlwdGlvbmVuZGRhdGUgPSAnMjAxNi0wNy0wM1QwOTozNDoxMC40ODdaJztcbiAgICAgICAgLy90aGlzLnN1YmVuZGRhdGUgPSBuZXcgRGF0ZSgndGhpcy5sb2dpblVzZXIuc3Vic2NyaXB0aW9uZW5kZGF0ZScpO1xuICAgICAgICB0aGlzLnN1YmVuZGRhdGUgPSBuZXcgRGF0ZSh0aGlzLmxvZ2luVXNlci5zdWJzY3JpcHRpb25lbmRkYXRlKTtcbiAgICAgICAgLy9pZiAodGhpcy5sb2dpblVzZXIuc3Vic2NyaXB0aW9uZW5hYmxlID09IFwibm9cIikge1xuICAgICAgICAvL2xldCBkYXlzPShuZXcgRGF0ZSgyMDE2LDcsMykpLSAobmV3IERhdGUoMjAxNiw2LDE4KSk7XG4gICAgICAgIGlmICh0aGlzLnN1YmVuZGRhdGUgPCB0aGlzLmRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkaWZmID0gKHRoaXMuc3ViZW5kZGF0ZSkgLSAodGhpcy5kYXRlKTtcbiAgICAgICAgICAgIHRoaXMuZGF5ID0gTWF0aC5yb3VuZChkaWZmIC8gODY0MDAwMDApO1xuICAgICAgICB9XG4gICAgfVxuLy8gICAgY2FsbHNxdWFyZWFwaSgpIHtcbi8vXG4vLyAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuLy8gICAgICAgIHRoaXMuc3FQYXltZW50Rm9ybSA9IG5ldyBTcVBheW1lbnRGb3JtKHtcbi8vICAgICAgICAgICAgYXBwbGljYXRpb25JZDogJ3NhbmRib3gtc3EwaWRwLW56bXh4RV9qYmNPaVVDTmpzbXRLU3cnLFxuLy8gICAgICAgICAgICBpbnB1dENsYXNzOiAnc3EtaW5wdXQnLFxuLy8gICAgICAgICAgICBjYXJkTnVtYmVyOiB7XG4vLyAgICAgICAgICAgICAgICBlbGVtZW50SWQ6ICdzcS1jYXJkLW51bWJlcicsXG4vLyAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJDcmVkaXQgQ2FyZCBOdW1iZXJcIlxuLy8gICAgICAgICAgICB9LFxuLy8gICAgICAgICAgICBjdnY6IHtcbi8vICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogJ3NxLWN2dicsXG4vLyAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ0NWVidcbi8vICAgICAgICAgICAgfSxcbi8vICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGU6IHtcbi8vICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogJ3NxLWV4cGlyYXRpb24tZGF0ZScsXG4vLyAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ0V4cGlyeSBEYXRlJ1xuLy8gICAgICAgICAgICB9LFxuLy8gICAgICAgICAgICBwb3N0YWxDb2RlOiB7XG4vLyAgICAgICAgICAgICAgICBlbGVtZW50SWQ6ICdzcS1wb3N0YWwtY29kZScsXG4vLyAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ1Bvc3RhbCBDb2RlJ1xuLy8gICAgICAgICAgICB9LFxuLy8gICAgICAgICAgICBpbnB1dFN0eWxlczogW1xuLy8gICAgICAgICAgICAgICAge1xuLy8gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4vLyAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogJ2xpZ2h0ZXInLFxuLy8gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICczcHgnLFxuLy8gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzhhOGE4YSdcbi8vICAgICAgICAgXG4vLyAgICAgICAgICAgICAgICB9LFxuLy8gICAgICAgICAgICAgICAge1xuLy8gICAgICAgICAgICAgICAgICAgIG1lZGlhTWF4V2lkdGg6ICc0MDBweCcsXG4vLyAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4J1xuLy8gICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICBdLFxuLy8gICAgICAgICAgICBjYWxsYmFja3M6IHtcbi8vICAgICAgICAgICAgICAgIGNhcmROb25jZVJlc3BvbnNlUmVjZWl2ZWQ6IGZ1bmN0aW9uKGVycm9ycywgbm9uY2UsIGNhcmREYXRhKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9ycykge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNxdWFyZWVycm9yID0gdHJ1ZTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9ycycpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICBlcnJvckRpdi5pbm5lckhUTUwgPSBcIlwiO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMuZm9yRWFjaChmdW5jdGlvbihlcnJvcikge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLmlubmVySFRNTCA9IGVycm9yLm1lc3NhZ2U7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckRpdi5hcHBlbmRDaGlsZChwKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9ycyk7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb25jZSByZWNlaXZlZDonKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobm9uY2UpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShjYXJkRGF0YSkpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNxdWFyZWNhcmRkYXRhID0gSlNPTi5zdHJpbmdpZnkoY2FyZERhdGEpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNxdWFyZWVycm9yID0gZmFsc2U7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub25jZUZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQtbm9uY2UnKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgbm9uY2VGaWVsZC52YWx1ZSA9IG5vbmNlO1xuLy8gICAgICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgICAgIH0sXG4vLyAgICAgICAgICAgICAgICB1bnN1cHBvcnRlZEJyb3dzZXJEZXRlY3RlZDogZnVuY3Rpb24oKSB7XG4vLyAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgIH1cbi8vXG4vLyAgICAgICAgfSk7XG4vLyAgICB9XG5cbiAgICB1cGRhdGViaWxsKCkge1xuICAgICAgICB0aGlzLmlzbG9hZGluZyA9IHRydWU7XG4gICAgICAgIC8vIHRoaXMuc3FQYXltZW50Rm9ybS5yZXF1ZXN0Q2FyZE5vbmNlKCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGV0b2tlbigpO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIGxldCBmb3JtZGF0YSA9IHNlbGYuYmlsbGZvcm0udmFsdWU7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGlmIChzZWxmLnNxdWFyZWNhcmRkYXRhKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBsZXQgY2FyZGRhdGEgPSBKU09OLnBhcnNlKHNlbGYuc3F1YXJlY2FyZGRhdGEpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgbGV0IGNhcmRudW1iZXIgPSBcInh4eC14eHgteHh4LVwiICsgY2FyZGRhdGEubGFzdF80O1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgZm9ybWRhdGFbXCJjYXJkdHlwZVwiXSA9IGNhcmRkYXRhLmNhcmRfYnJhbmQ7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBmb3JtZGF0YVtcInppcGNvZGVcIl0gPSBjYXJkZGF0YS5iaWxsaW5nX3Bvc3RhbF9jb2RlO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRva2VuID0gKCQoXCIjc3RyaXBlVG9rZW5cIikudmFsKCkpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJhZnRlciB0aW1lIG91dFwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRva2VuKTtcbiAgICAgICAgICAgIHZhciBjY19pZCA9IChmb3JtZGF0YS5jY19udW1iZXIpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgbGFzdHRocmVlID0gY2NfaWQuc3Vic3RyKGNjX2lkLmxlbmd0aCAtIDMpO1xuICAgICAgICAgICAgbGV0IGNhcmRudW1iZXIgPSBcInh4eC14eHgteHh4LVwiICsgbGFzdHRocmVlO1xuICAgIFxuICAgICAgICAgICAgZm9ybWRhdGFbXCJ1c2VyaWRcIl0gPSBzZWxmLmxvZ2luVXNlci5pZDtcbiAgICAgICAgICAgIC8vZm9ybWRhdGFbXCJ1c2VyaWRcIl0gPSBcIjU3NjI4NGE3MTE2ODY3OTExNWJlMDMzNlwiO1xuICAgICAgICAgICAgZm9ybWRhdGFbXCJjYXJkdG9rZW5cIl0gPSB0b2tlbjtcbiAgICAgICAgICAgIGZvcm1kYXRhW1wiY2FyZG51bWJlclwiXSA9IGNhcmRudW1iZXI7XG4gICAgICAgICAgICBmb3JtZGF0YVtcInBheW1lbnR0eXBlXCJdID0gc2VsZi5wYXltZW50dHlwZTtcbiAgICAgICAgICAgIGZvcm1kYXRhW1wicGF5bWVudGdhdHdheVwiXSA9IFwic3RyaXBlXCI7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhmb3JtZGF0YSk7XG4gICAgICAgICAgICBzZWxmLmF1dGhTZXJ2aWNlLmJpbGxpbmcoZm9ybWRhdGEpXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaXNsb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubWVzc2FnZT1yZXN1bHQuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pc21lc3NhZ2U9dHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC51c2VyZGV0YWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlWyd1c2VyJ10gPSBKU09OLnN0cmluZ2lmeShyZXN1bHQudXNlcmRldGFpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZ2luVXNlciA9IHJlc3VsdC51c2VyZGV0YWlsO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlHbG9iYWxzLkxvZ2luVXNlciA9ICBzZWxmLmxvZ2luVXNlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vc2VsZi5zcVBheW1lbnRGb3JtLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jYWxjdWxhdGVkYXlzKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZC1ub25jZScpLnZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjZXJyb3JzXCIpLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vc2VsZi5zcVBheW1lbnRGb3JtLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgLy9zZWxmLnJlc2V0Zm9ybSgpO1xuICAgICAgICAgICAgICAgICAgICAvL3NlbGYuc3FQYXltZW50Rm9ybS5idWlsZCgpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3JvdXRlci5uYXZpZ2F0ZShbJy8nXSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIH0sIDQwMDApO1xuICAgICAgICAgICAgICAgIH0sIChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaXNsb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubWVzc2FnZT1lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5pc21lc3NhZ2U9dHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZC1ub25jZScpLnZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiIGJpbGxpbmcgZmFpbDogXCIgKyBlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSwgNDAwMCk7XG4gICAgfVxuXG4gICAgY2huZ3BheW1lbnR0eXBlKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBcIm1vbnRobHlcIikge1xuICAgICAgICAgICAgdGhpcy5pc21vbnRobHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlID09IFwieWVhcmx5XCIpIHtcbiAgICAgICAgICAgIHRoaXMuaXNtb250aGx5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXltZW50dHlwZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJlc2V0Zm9ybSgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVGb3JtKCk7XG4gICAgICAgIC8vIHRoaXMuc3FQYXltZW50Rm9ybS5kZXN0cm95KCk7XG4gICAgICAgIC8vIHRoaXMuY2FsbHNxdWFyZWFwaSgpO1xuICAgICAgICAvLyAgICAgICAgaWYgKHRoaXMubG9naW5Vc2VyKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgdGhpcy5iaWxsZm9ybS5jb250cm9sc1snZmlyc3RuYW1lJ10udXBkYXRlVmFsdWUodGhpcy5sb2dpblVzZXIuZmlyc3RuYW1lKTtcbiAgICAgICAgLy8gICAgICAgICAgICB0aGlzLmJpbGxmb3JtLmNvbnRyb2xzWydsYXN0bmFtZSddLnVwZGF0ZVZhbHVlKHRoaXMubG9naW5Vc2VyLmxhc3RuYW1lKTtcbiAgICAgICAgLy8gICAgICAgICAgICB0aGlzLmJpbGxmb3JtLmNvbnRyb2xzWydlbWFpbCddLnVwZGF0ZVZhbHVlKHRoaXMubG9naW5Vc2VyLmVtYWlsKTtcbiAgICAgICAgLy8gICAgICAgICAgICB0aGlzLmJpbGxmb3JtLmNvbnRyb2xzWydidXNpbmVzc25hbWUnXS51cGRhdGVWYWx1ZSh0aGlzLmxvZ2luVXNlci5maXJzdG5hbWUgKyBcIiBcIiArIHRoaXMubG9naW5Vc2VyLmxhc3RuYW1lKTtcbiAgICAgICAgLy8gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGdlbmVyYXRldG9rZW4oKSB7XG4gICAgICAgIGxldCBmb3JtZGF0YSA9IHRoaXMuYmlsbGZvcm0udmFsdWU7XG4gICAgICAgIGxldCBjY251bWJlciA9IGZvcm1kYXRhLmNjX251bWJlcjtcbiAgICAgICAgbGV0IG1vbnRoID0gZm9ybWRhdGEuZXhwaXJ5ZGF0ZTtcbiAgICAgICAgbGV0IHllYXIgPSBmb3JtZGF0YS5leHBpcnl5ZWFyO1xuICAgICAgICBsZXQgY2N2ID0gZm9ybWRhdGEuY2N2O1xuICAgICAgICBTdHJpcGUuc2V0UHVibGlzaGFibGVLZXkoJ3BrX3Rlc3RfaU9rTGVhTzRtWkdPSFoyeDZkNk1ZSmRxJyk7XG4gICAgICAgIGlmICgoU3RyaXBlLmNhcmQudmFsaWRhdGVFeHBpcnkobW9udGgsIHllYXIpKSAmJiAoU3RyaXBlLmNhcmQudmFsaWRhdGVDYXJkTnVtYmVyKGNjbnVtYmVyKSkgJiYgKFN0cmlwZS5jYXJkLnZhbGlkYXRlQ1ZDKGNjdikpKSB7XG4gICAgICAgICAgICBTdHJpcGUuY2FyZC5jcmVhdGVUb2tlbih7XG4gICAgICAgICAgICAgICAgbnVtYmVyOiBjY251bWJlcixcbiAgICAgICAgICAgICAgICBjdmM6IGNjdixcbiAgICAgICAgICAgICAgICBleHBfbW9udGg6IG1vbnRoLFxuICAgICAgICAgICAgICAgIGV4cF95ZWFyOiB5ZWFyXG4gICAgICAgICAgICB9LCBzdHJpcGVSZXNwb25zZUhhbmRsZXIpO1xuICAgICAgICAgICAgdGhpcy5pbnZhbGlkY2FyZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbnZhbGlkY2FyZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNhcmQgaW5mb3JtYXRpb24gaW52YWxpZFwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdHJpcGVSZXNwb25zZUhhbmRsZXIoc3RhdHVzLCByZXNwb25zZSkge1xuXG4gICAgLy8gR3JhYiB0aGUgZm9ybTpcbiAgICB2YXIgJGZvcm0gPSAkKCcjYmlsbGluZ2Zvcm0nKTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7XG5cbiAgICAgICAgJGZvcm0uZmluZCgnLmJhbmstZXJyb3JzJykudGV4dChyZXNwb25zZS5lcnJvci5tZXNzYWdlKTtcbiAgICAgICAgJGZvcm0uZmluZCgnYnV0dG9uJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIHZhciB0b2tlbiA9IHJlc3BvbnNlLmlkO1xuICAgICAgICBjb25zb2xlLmxvZyh0b2tlbik7XG4gICAgICAgICRmb3JtLmFwcGVuZChcIjxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSdzdHJpcGVUb2tlbicgdmFsdWU9J1wiICsgdG9rZW4gKyBcIicgLz5cIik7XG5cbiAgICB9XG59XG5cbn1cblxuIl19
