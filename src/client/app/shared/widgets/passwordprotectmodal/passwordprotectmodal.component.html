
    <div class="modal" id="passwordModal" role="dialog">
        <div class="modal-dialog modal-sm" style="width: 400px;">
            <!-- Modal content-->
            <div class="modal-content" style="width:400px; max-width:100%;">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Viewfoo Paaword Protect</h4>
                </div>
                <div class="modal-body">
                    <div class="row passwordbody">

                        <div class="checkbox">
                            <label>
                                <input type="checkbox" class="CBpasswordtype" checked (change)="changepasswordtype('generate')">
                                       <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                Auto generate strongest password
                            </label>
                            <label>
                                <input type="checkbox" class="CBpasswordtype" (change)="changepasswordtype('own')">
                                <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                Use your own password SMS
                            </label>
                        </div> 

                        <form [formGroup]="viewfoopassword"  (ngSubmit)="updateviewfoopasswprd()">
                            <div>
                                <div class="col-lg-12 ownpassword" *ngIf!="generateownpassword">
                                    <div class="form-group">
                                        <input type="password" formControlName="password" class="form-control"  placeholder="Password">
                                        <div class="text text-danger pull-right small" *ngIf="password.touched">
                                            <div *ngIf="password.hasError('required')">Password is required </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <input type="password" formControlName="confirmpassword" class="form-control"  placeholder="Confirm Password">
                                        <div class="text text-danger pull-right small" *ngIf="confirmpassword.touched">
                                            <div *ngIf="viewfoopassword.hasError('mismatchedPasswords')" >Passwords do not match </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 generateinput">
                                    <div class="input-group " *ngIf="generateownpassword">

                                        <input type="text" disabled formControlName="generatedpassword" class="form-control ">
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-secondary" (click)="generatepassword()"> <i *ngIf="isloading" class='fa fa-spinner fa-spin'></i>Regenerate</button>
                                        </span>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-12 passwordchkbox">
                                <div class="optionaltext">
                                    <b>Save ViewFoo Password Via (optional): </b>
                                    <small>Send a copy of this ViewFoo Password to:</small>
                                </div>
                                <div class="passwordchbox">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" #chkmail  formControlName="chkmail"  [(ngModel)]="checkemail" class="CBmenustyle" (change)="checkemail=chkmail.value">
                                            <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                            Email
                                        </label>
                                        <label>
                                            <input type="checkbox" #chksms formControlName="chksms"  [(ngModel)]="checksms" class="CBmenustyle" (change)="checksms=chksms.value">
                                            <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                            Mobile SMS
                                        </label>
                                    </div>   

                                </div>
                                <div class="passwordsave">
                                    <button type="submit" [disabled]='!viewfoopassword.valid' class="btn btn-default">
                                        <i class="fa fa-lock" aria-hidden="true"></i>   Save and Protect
                                        <i *ngIf="isloading" class='fa fa-spinner fa-spin'></i>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

<div class="modal" id="unlockpasswordModal" role="dialog">
    <div class="modal-dialog modal-sm" style="width: 400px;">
        <!-- Modal content-->
        <div class="modal-content" style="max-width:100%;width:400px ">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Viewfoo Paaword Protect</h4>
            </div>
            <div class="modal-body">
                <div class="row passwordbody">

                    <div class="col-lg-12 generateinput">
                        <label>Enter ViewFoo Password to Unlock:</label>
                        <div class="input-group " >

                            <input type="text" #unlockpasswordval  class="form-control ">
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-secondary" (click)="unlockpassword(unlockpasswordval)">UNLOCK 
                                    <i *ngIf="isloading" class='fa fa-spinner fa-spin'></i>
                                </button>
                            </span>
                        </div>
                    </div>
                    <div class="error"  *ngIf=iserror>{{errorMsg}}</div>

                    <div class="col-lg-12 passwordchkbox">
                        <div class="optionalunlocktext">
                            <b>Retrieve ViewFoo Password Via (optional): </b>
                            <small>Send a copy of this ViewFoo Password to:</small>
                        </div>
                        <div class="passwordchbox">
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox"  checked disabled     class="CBmenustyle" >
                                    <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                    Email
                                </label>
                                <label>
                                    <input type="checkbox" #chkunlocksms   [(ngModel)]="checkunlocksms" class="CBmenustyle" (change)="checkunlocksms=chkunlocksms.value">
                                    <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                                    Mobile SMS
                                </label>
                            </div>   

                        </div>
                        <br>
                        <div class="passwordsend">
                            <button type="button" class="btn btn-default" (click)="sendpassword()">SEND PASSWORD</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

